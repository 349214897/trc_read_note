## 1. hpp评测目的
- 几条准则
  - 我们想要估计模型的泛化性能，即模型对未知数据的预测性能。

  - 我们希望通过调整学习算法和从给定的假设空间中选择最佳的执行模型来提高预测性能。

  - 我们想要确定最适合于手头问题的机器学习算法；因此，我们需要比较不同的算法，从算法的假设空间中选择最佳性能的算法和最佳的执行模型。
- **对于hpp,我们关注的是在车道线模糊的情况下,为下游提供一个准确的行车方向参考**

## 2. 当前测试方案
- 当前测试方案为:
  - **label:根据道路主车道线及图片底部中心点在主车道线的比例,差值出一条和道路中心线走向一致,从图片底端中心延伸到远端的一条轨迹**
  - 预测结果为模型输出的每一行的最大响应值点
  - 指标为**精度**(accuracy):
  \[
  acc=(negtive_{true}+positive_{true})/ground\_sum
  \]
    - **其中预测结果与label偏差在20像素认为预测正确**

## 3. 当前测试数据
- 当前测试数据为亚楠之前整理的test_data数据集,包含11000张左右图片(有曝光,弯道,匝道,模糊,雨天等场景)
  - 选取了**背光,弯道,模糊,雨天,匝道**作为最终的**hpp测试数据集**
  - 约**3000张**
  - **模糊**数据约1000张

## 4. 当前评测结果
**<center>40个点 </center>**
| 模型 | 数据集 | 训练方式 | 迭代次数 | acc(%) |
| - | :-: | -: | -: | -: |
|1| 30万全量数据 | 从头训练 | 62000 | 90.88 |
|2| gan_filter(16000张) | 从头训练 | 80000 | 80.93 |
|3| gan_source(40000张) | 从头训练 | 122000 | 82.10 |
|4| gan_filter(16000张) | 从模型1开始finetune | 72000 | 86.55 |
|5| gan_source(40000张) | 从模型1开始finetune | 98000 | 84.49 |
|6| gan+raw(45000张) | 从头开始 | 44000 | 85.52 |
|7| raw(45000张) | 从头开始 | 44000 | 85.33  |
|6| gan+raw(45000张) | 从头开始 | 64000 | 85.52 |
|7| raw(45000张) | 从头开始 | 64000 | 85.34 |

**<center>28个点[图片底部12格(每格16像素)不参与评测] </center>**
| 模型 | 数据集 | 训练方式 | 迭代次数 | acc(%) |
| - | :-: | -: | -: | -: |
|1| 30万全量数据 | 从头训练 | 62000 | 86.97 |
|2| gan_filter(16000张) | 从头训练 | 80000 | 73.57 |
|3| gan_source(40000张) | 从头训练 | 122000 | 75.23 |
|4| gan_filter(16000张) | 从模型1开始finetune | 72000 | 82.88 |
|5| gan_source(40000张) | 从模型1开始finetune | 98000 | 78.63 |
|6| gan+raw(45000张) | 从头开始 |  |  |
|7| raw(45000张) | 从头开始 |  |  |

## 5.利用车道线模型筛选出的低于平均精度(0.91)的图片(1700张)
**<center>40个点 </center>**
| 模型 | 数据集 | 训练方式 | 迭代次数 | acc(%) |
| - | :-: | -: | -: | -: |
|1| 30万全量数据 | 从头训练 | 62000 | 83.20 |
|1+gan| 30万全量数据+gan | 从头训练 | 62000 | 84.68 |
|1+gan| 30万全量数据+gan | 从头训练 | 98000 | 84.67 |
|2| gan_filter(16000张) | 从头训练 | 80000 |  |
|3| gan_source(40000张) | 从头训练 | 122000 |  |
|4| gan_filter(16000张) | 从模型1开始finetune | 72000 |  |
|5| gan_source(40000张) | 从模型1开始finetune | 98000 |  |
|6| gan+raw(45000张) | 从头开始 | 64000 | 77.38  |
|7| raw(45000张) | 从头开始 | 64000 | 76.79 |

**<center>28个点 </center>**
| 模型 | 数据集 | 训练方式 | 迭代次数 | acc(%) |
| - | :-: | -: | -: | -: |
|1| 30万全量数据 | 从头训练 | 62000 | 77.06 |
|1+gan| 30万全量数据+gan | 从头训练 | 62000 | 79.28 |
|2| gan_filter(16000张) | 从头训练 | 80000 | 65.99  |
|3| gan_source(40000张) | 从头训练 | 122000 | 63.53 |
|4| gan_filter(16000张) | 从模型1开始finetune | 72000 | 71.86 |
|5| gan_source(40000张) | 从模型1开始finetune | 98000 | 71.86 |
|6| gan+raw(45000张) | 从头开始 | 64000 | 69.44  |
|7| raw(45000张) | 从头开始 | 64000 | 68.83 |

## 6.利用车道线模型筛选出的精度低于0.85的图片(770张)
**<center>40个点 </center>**
| 模型 | 数据集 | 训练方式 | 迭代次数 | acc(%) |
| - | :-: | -: | -: | -: |
|1| 30万全量数据 | 从头训练 | 62000 | 77.92 |
|1+gan| 30万全量数据+gan | 从头训练 | 62000 | 80.27 |
|2| gan_filter(16000张) | 从头训练 | 80000 | 69.43  |
|3| gan_source(40000张) | 从头训练 | 122000 | 69.12 |
|4| gan_filter(16000张) | 从模型1开始finetune | 72000 | 72.31 |
|5| gan_source(40000张) | 从模型1开始finetune | 98000 | 72.31 |
|6| gan+raw(45000张) | 从头开始 | 64000 | 72.67  |
|7| raw(45000张) | 从头开始 | 64000 | 71.19 |

**<center>28个点 </center>**
| 模型 | 数据集 | 训练方式 | 迭代次数 | acc(%) |
| - | :-: | -: | -: | -: |
|1| 30万全量数据 | 从头训练 | 62000 | 70.51 |
|1+gan| 30万全量数据+gan | 从头训练 | 62000 | 73.97 |
|2| gan_filter(16000张) | 从头训练 | 80000 | 60.82  |
|3| gan_source(40000张) | 从头训练 | 122000 | 60.07 |
|4| gan_filter(16000张) | 从模型1开始finetune | 72000 | 67.02 |
|5| gan_source(40000张) | 从模型1开始finetune | 98000 | 67.02 |
|6| gan+raw(45000张) | 从头开始 | 64000 | 64.34  |
|7| raw(45000张) | 从头开始 | 64000 | 62.59 |

## 6.利用车道线模型筛选出的精度低于0.85的图片,label(-1)不计入(770张)
**<center>40个点 </center>**
| 模型 | 数据集 | 训练方式 | 迭代次数 | acc(%) |
| - | :-: | -: | -: | -: |
|1| 30万全量数据 | 从头训练 | 62000 | 71.27 |
|同(1)| 30万全量数据+gan | 从头训练 | 62000 | 74.37 |
|2(同1)| gan_filter(16000张) | 从头训练 | 80000 | 60.65  |
|3(同1)| gan_source(40000张) | 从头训练 | 122000 | 60.33 |
|4(同1)| gan_filter(16000张) | 从模型1开始finetune | 72000 | 64.59 |
|5(同1)| gan_source(40000张) | 从模型1开始finetune | 98000 | 64.59 |
|6(同1)| gan+raw(45000张) | 从头开始 | 64000 | 64.50  |
|7(同1)| raw(45000张) | 从头开始 | 64000 | 62.51 |
|8(同1)| gan+raw(45000张)+pitch+mirror | 从头开始 | 80000 | 75.43 |
|9(剪枝yf)| gan_source(40000张) | 从头开始 | 70000 | 47.08 |
|10(去掉conv7)| gan_source(40000张) | 从头开始 | 46000 | 46.11 |
|11(同1)| gan_source(40000张)+pitch+mir | 从头开始 | 40000 | 73.98 |
|12(把模型1-group设为1)| gan_source(40000张) | 从头开始 | 36000 | 59.4 |
|13(480160加了yicengpool及相应的卷积)| gan_source(40000张) | 从头开始 | 14000 | 52.5 |
|14去bn-group设为1| 30万+gan(40000张)+ramp | 从头开始 | 14000 | 68.69 |
|15 |30+gan(40000张)+mirror+pitch|从头开始|60000|75.33|
|16 group设为1|30万+30万gan+pitch+mirror|从头开始|34000|76.57|
|17(direct_flow)|gan+raw(45000张)|从头开始|66000|74.69|

**<center>28个点 </center>**
| 模型 | 数据集 | 训练方式 | 迭代次数 | acc(%) |
| - | :-: | -: | -: | -: |
|1| 30万全量数据 | 从头训练 | 62000 | 59.36 |
|1+gan| 30万全量数据+gan | 从头训练 | 62000 | 64.29 |
|2| gan_filter(16000张) | 从头训练 | 80000 | 46.52  |
|3| gan_source(40000张) | 从头训练 | 122000 | 45.91 |
|4| gan_filter(16000张) | 从模型1开始finetune | 72000 | 54.31 |
|5| gan_source(40000张) | 从模型1开始finetune | 98000 | 54.31 |
|6| gan+raw(45000张) | 从头开始 | 64000 | 51.01  |
|7| raw(45000张) | 从头开始 | 64000 | 48.54 |
|8| gan+raw(45000张)+pitch+mirror | 从头开始 | 80000 | 64.55 |
